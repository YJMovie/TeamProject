<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="search"><!-- 일종의 board 이름의 패키지 -->
	<select id="list" resultType="board.dto.BoardDTO">
		select * from (
		    select rownum rn, A.* from movie A 
		    where 
		    	title like #{keyword} or
				genre like #{keyword} or
				postfname like #{keyword} or
				open like #{keyword} or
				director like #{keyword} or
				mark like #{keyword}
		)where rn between #{start} and #{end}
	</select>
	<select id="TotSearchCount" parameterType="String" resultType="String">
		select count(*) from (
		    select * from (
		        select rownum rn, A.* from movie A 
		        where 
		        	title like '${keyword}' or
					genre like '${keyword}' or
					postfname like '${keyword}' or
					open like '${keyword}' or
					director like '${keyword}' or
					mark like '${keyword}'
		    )
		)
	</select>
</mapper>